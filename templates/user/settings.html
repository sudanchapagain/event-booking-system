<head>
    <title>Settings - Chautari</title>
    <link rel="stylesheet" href="../assets/css/default.css">
    <link rel="stylesheet" href="../assets/css/index.css">
    <link rel="stylesheet" href="../assets/css/sign.css">
    <link rel="stylesheet" href="../assets/css/settings.css">
</head>

<body>
    <main style="max-width: 550px; margin: 0 auto;">
        <h1 style="font-size: 2.3rem; margin-top: 50px;">Settings</h1>

        <?php if (isset($_GET['update']) && $_GET['update'] === 'success'): ?>
            <p class="signupSuccessMessage">Profile updated successfully!</p>
        <?php elseif (!empty($errors)): ?>
            <div class="signupFailMessage">
                <?php foreach ($errors as $error): ?>
                    <p><?= escape($error) ?></p>
                <?php endforeach; ?>
            </div>
        <?php endif; ?>

        <form method="POST" action="/settings" style="border: 1px solid lightgrey; border-radius: 8px; padding: 30px; background-color: #fafafa;">
            <label for="username" class="subtitle-profile-detail">Username</label>
            <input type="text" id="username" name="username" class="data-item-profile-detail"
                value="<?= escape($user['username']) ?>" required style="width: 100%;" />

            <label for="user_phone" class="subtitle-profile-detail">Phone Number</label>
            <input type="text" id="user_phone" name="user_phone" class="data-item-profile-detail"
                value="<?= escape($user['user_phone']) ?>" style="width: 100%;" />

            <label for="email" class="subtitle-profile-detail">Email</label>
            <input type="email" id="email" name="email" class="data-item-profile-detail"
                value="<?= escape($user['email']) ?>" required style="width: 100%;" />

            <label for="password" class="subtitle-profile-detail">Password</label>
            <input type="password" id="password" name="password" class="data-item-profile-detail"
                style="width: 100%;" placeholder="Leave blank to keep current password" />

            <button type="submit" class="edit-button-profile">Save Changes</button>
        </form>
    </main>
</body>
